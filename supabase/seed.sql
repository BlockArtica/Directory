-- Tradies Directory Seed Data
-- Run this in Supabase SQL Editor to populate test data
-- Creates 20 test users + companies, 3 ads, 5 jobs, and sample leads

-- Step 1: Disable the auto-stub trigger so we can insert companies directly
DROP TRIGGER IF EXISTS trig_create_company_after_signup ON auth.users;

-- Step 2: Insert 20 test users into auth.users (minimal required fields)
INSERT INTO auth.users (id, instance_id, aud, role, email, encrypted_password, email_confirmed_at, created_at, updated_at)
VALUES
  ('a0000001-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000000', 'authenticated', 'authenticated', 'mike@oceansideplumbing.com.au', crypt('testpass123', gen_salt('bf')), NOW(), NOW(), NOW()),
  ('a0000001-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000000', 'authenticated', 'authenticated', 'dave@northernelectrical.com.au', crypt('testpass123', gen_salt('bf')), NOW(), NOW(), NOW()),
  ('a0000001-0000-0000-0000-000000000003', '00000000-0000-0000-0000-000000000000', 'authenticated', 'authenticated', 'sarah@shorelineroofing.com.au', crypt('testpass123', gen_salt('bf')), NOW(), NOW(), NOW()),
  ('a0000001-0000-0000-0000-000000000004', '00000000-0000-0000-0000-000000000000', 'authenticated', 'authenticated', 'tom@manlycarpentry.com.au', crypt('testpass123', gen_salt('bf')), NOW(), NOW(), NOW()),
  ('a0000001-0000-0000-0000-000000000005', '00000000-0000-0000-0000-000000000000', 'authenticated', 'authenticated', 'jen@beachsidepainting.com.au', crypt('testpass123', gen_salt('bf')), NOW(), NOW(), NOW()),
  ('a0000001-0000-0000-0000-000000000006', '00000000-0000-0000-0000-000000000000', 'authenticated', 'authenticated', 'chris@peninsulalandscaping.com.au', crypt('testpass123', gen_salt('bf')), NOW(), NOW(), NOW()),
  ('a0000001-0000-0000-0000-000000000007', '00000000-0000-0000-0000-000000000000', 'authenticated', 'authenticated', 'brad@brisbaneplumbingpro.com.au', crypt('testpass123', gen_salt('bf')), NOW(), NOW(), NOW()),
  ('a0000001-0000-0000-0000-000000000008', '00000000-0000-0000-0000-000000000000', 'authenticated', 'authenticated', 'lisa@qldelectricsolutions.com.au', crypt('testpass123', gen_salt('bf')), NOW(), NOW(), NOW()),
  ('a0000001-0000-0000-0000-000000000009', '00000000-0000-0000-0000-000000000000', 'authenticated', 'authenticated', 'matt@northshorebuilders.com.au', crypt('testpass123', gen_salt('bf')), NOW(), NOW(), NOW()),
  ('a0000001-0000-0000-0000-000000000010', '00000000-0000-0000-0000-000000000000', 'authenticated', 'authenticated', 'karen@freshcoatpainting.com.au', crypt('testpass123', gen_salt('bf')), NOW(), NOW(), NOW()),
  ('a0000001-0000-0000-0000-000000000011', '00000000-0000-0000-0000-000000000000', 'authenticated', 'authenticated', 'steve@warringahplumbing.com.au', crypt('testpass123', gen_salt('bf')), NOW(), NOW(), NOW()),
  ('a0000001-0000-0000-0000-000000000012', '00000000-0000-0000-0000-000000000000', 'authenticated', 'authenticated', 'rachel@sunshineelectrics.com.au', crypt('testpass123', gen_salt('bf')), NOW(), NOW(), NOW()),
  ('a0000001-0000-0000-0000-000000000013', '00000000-0000-0000-0000-000000000000', 'authenticated', 'authenticated', 'paul@goldcoastroofing.com.au', crypt('testpass123', gen_salt('bf')), NOW(), NOW(), NOW()),
  ('a0000001-0000-0000-0000-000000000014', '00000000-0000-0000-0000-000000000000', 'authenticated', 'authenticated', 'emma@monavalegardens.com.au', crypt('testpass123', gen_salt('bf')), NOW(), NOW(), NOW()),
  ('a0000001-0000-0000-0000-000000000015', '00000000-0000-0000-0000-000000000000', 'authenticated', 'authenticated', 'james@pittwatertimber.com.au', crypt('testpass123', gen_salt('bf')), NOW(), NOW(), NOW()),
  ('a0000001-0000-0000-0000-000000000016', '00000000-0000-0000-0000-000000000000', 'authenticated', 'authenticated', 'amy@northernbeachesreno.com.au', crypt('testpass123', gen_salt('bf')), NOW(), NOW(), NOW()),
  ('a0000001-0000-0000-0000-000000000017', '00000000-0000-0000-0000-000000000000', 'authenticated', 'authenticated', 'dan@brisbanelandscaping.com.au', crypt('testpass123', gen_salt('bf')), NOW(), NOW(), NOW()),
  ('a0000001-0000-0000-0000-000000000018', '00000000-0000-0000-0000-000000000000', 'authenticated', 'authenticated', 'nicole@avaloncleaning.com.au', crypt('testpass123', gen_salt('bf')), NOW(), NOW(), NOW()),
  ('a0000001-0000-0000-0000-000000000019', '00000000-0000-0000-0000-000000000000', 'authenticated', 'authenticated', 'mark@deewhydrains.com.au', crypt('testpass123', gen_salt('bf')), NOW(), NOW(), NOW()),
  ('a0000001-0000-0000-0000-000000000020', '00000000-0000-0000-0000-000000000000', 'authenticated', 'authenticated', 'tina@bulimbaelectrical.com.au', crypt('testpass123', gen_salt('bf')), NOW(), NOW(), NOW())
ON CONFLICT (id) DO NOTHING;

-- Step 3: Insert 20 companies (all verified for directory testing)
-- Mix of subscription tiers: 4 enterprise, 6 pro, 10 basic
-- Mix of services: Plumbing, Electrical, Carpentry, Painting, Landscaping, Roofing
-- Mix of regions: Northern Beaches NSW + Brisbane QLD

INSERT INTO companies (user_id, name, abn, description, website, phone, email, location, services, subscription_tier, verified, years_in_business, number_of_employees, certifications, insurance_details, operating_hours, payment_methods, areas_serviced, "references", social_links, google_reviews_url, licenses)
VALUES
-- ENTERPRISE TIER (4)
(
  'a0000001-0000-0000-0000-000000000001',
  'Oceanside Plumbing & Gas',
  '12345678901',
  'Northern Beaches premier plumbing service. 24/7 emergency callouts, hot water systems, gas fitting, and bathroom renovations. Family-owned since 2005.',
  'https://oceansideplumbing.com.au',
  '0412 345 678',
  'mike@oceansideplumbing.com.au',
  '{"address": "42 Pittwater Rd, Manly NSW 2095", "lat": -33.7969, "long": 151.2876, "region": "Northern Beaches, NSW"}',
  '{"Plumbing"}',
  'enterprise',
  true,
  19,
  12,
  '{"Licensed Plumber NSW", "Gas Fitter Class A", "Backflow Prevention"}',
  'Public Liability $20M, WorkCover compliant',
  'Mon-Fri 7am-6pm, Sat 8am-2pm, 24/7 Emergency',
  '{"Cash", "Card", "Bank Transfer", "Afterpay"}',
  '{"Manly", "Dee Why", "Brookvale", "Freshwater", "Curl Curl", "Narrabeen"}',
  '{"Northern Beaches Council - preferred contractor", "Strata Plan 12345"}',
  '{"facebook": "https://facebook.com/oceansideplumbing", "instagram": "https://instagram.com/oceansideplumbing"}',
  'https://g.co/kgs/oceansideplumbing',
  '["licenses/plumbing_nsw_12345.pdf", "licenses/gasfitter_a.pdf"]'
),
(
  'a0000001-0000-0000-0000-000000000002',
  'Northern Electrical Solutions',
  '12345678902',
  'Full-service electrical contractor specialising in residential and commercial projects across the Northern Beaches. Level 2 ASP for meter installations and defect rectification.',
  'https://northernelectrical.com.au',
  '0413 456 789',
  'dave@northernelectrical.com.au',
  '{"address": "15 Howard Ave, Dee Why NSW 2099", "lat": -33.7512, "long": 151.2870, "region": "Northern Beaches, NSW"}',
  '{"Electrical"}',
  'enterprise',
  true,
  15,
  8,
  '{"Licensed Electrician NSW", "Level 2 ASP", "Solar Accredited Installer"}',
  'Public Liability $10M, Professional Indemnity $5M',
  'Mon-Fri 7am-5pm, Sat 8am-12pm',
  '{"Cash", "Card", "Bank Transfer"}',
  '{"Dee Why", "Collaroy", "Narrabeen", "Mona Vale", "Newport", "Avalon"}',
  '{"Westfield Warringah Mall", "Northern Beaches Hospital"}',
  '{"facebook": "https://facebook.com/northernelectrical", "linkedin": "https://linkedin.com/company/northernelectrical"}',
  'https://g.co/kgs/northernelectrical',
  '["licenses/electrician_nsw_67890.pdf"]'
),
(
  'a0000001-0000-0000-0000-000000000007',
  'Brisbane Plumbing Pro',
  '12345678907',
  'Brisbane top-rated plumber. Specialising in blocked drains, leak detection, and hot water system installation. CCTV drain camera inspections. Same-day service guaranteed.',
  'https://brisbaneplumbingpro.com.au',
  '0417 890 123',
  'brad@brisbaneplumbingpro.com.au',
  '{"address": "88 Sandgate Rd, Albion QLD 4010", "lat": -27.4348, "long": 153.0451, "region": "Brisbane, QLD"}',
  '{"Plumbing"}',
  'enterprise',
  true,
  22,
  15,
  '{"Licensed Plumber QLD", "Gas Fitter", "Backflow Certified", "QBCC Licensed"}',
  'Public Liability $20M, WorkCover QLD',
  'Mon-Sun 6am-10pm, 24/7 Emergency',
  '{"Cash", "Card", "Bank Transfer", "Zip Pay", "Afterpay"}',
  '{"Brisbane CBD", "Fortitude Valley", "New Farm", "Albion", "Wooloowin", "Ascot", "Hamilton"}',
  '{"Brisbane City Council", "QLD Health - approved contractor"}',
  '{"facebook": "https://facebook.com/brisbaneplumbingpro", "instagram": "https://instagram.com/brisbaneplumbingpro", "tiktok": "https://tiktok.com/@brisbaneplumbingpro"}',
  'https://g.co/kgs/brisbaneplumbingpro',
  '["licenses/plumber_qld_11111.pdf", "licenses/qbcc_22222.pdf"]'
),
(
  'a0000001-0000-0000-0000-000000000009',
  'North Shore Builders & Renovations',
  '12345678909',
  'Award-winning renovation specialists on the Northern Beaches. Full home renovations, extensions, decks, and pergolas. Winner of HIA Northern Beaches Builder of the Year 2024.',
  'https://northshorebuilders.com.au',
  '0419 012 345',
  'matt@northshorebuilders.com.au',
  '{"address": "7 Bungan St, Mona Vale NSW 2103", "lat": -33.6776, "long": 151.3036, "region": "Northern Beaches, NSW"}',
  '{"Carpentry", "Roofing"}',
  'enterprise',
  true,
  25,
  20,
  '{"Licensed Builder NSW", "HIA Member", "MBA Member", "WHS White Card"}',
  'Public Liability $20M, Home Warranty Insurance, WorkCover',
  'Mon-Fri 6:30am-4:30pm, Sat 7am-12pm',
  '{"Cash", "Card", "Bank Transfer", "Progress Payments"}',
  '{"Mona Vale", "Newport", "Avalon", "Bilgola", "Whale Beach", "Palm Beach", "Bayview"}',
  '{"HIA Award Winner 2024", "Pittwater Council Heritage Projects"}',
  '{"facebook": "https://facebook.com/northshorebuilders", "instagram": "https://instagram.com/northshorebuilders", "houzz": "https://houzz.com.au/northshorebuilders"}',
  'https://g.co/kgs/northshorebuilders',
  '["licenses/builder_nsw_33333.pdf", "licenses/hia_member.pdf"]'
),

-- PRO TIER (6)
(
  'a0000001-0000-0000-0000-000000000003',
  'Shoreline Roofing Co',
  '12345678903',
  'Expert roof repairs, restorations, and new installations. Tile, Colorbond, and slate specialists. Free inspections and quotes for Northern Beaches residents.',
  'https://shorelineroofing.com.au',
  '0414 567 890',
  'sarah@shorelineroofing.com.au',
  '{"address": "3/22 Cross St, Brookvale NSW 2100", "lat": -33.7654, "long": 151.2730, "region": "Northern Beaches, NSW"}',
  '{"Roofing"}',
  'pro',
  true,
  10,
  6,
  '{"Licensed Roofer NSW", "Colorbond Accredited", "Height Safety Certified"}',
  'Public Liability $10M, WorkCover',
  'Mon-Fri 7am-4pm, Sat by appointment',
  '{"Cash", "Card", "Bank Transfer"}',
  '{"Brookvale", "Dee Why", "Manly", "Freshwater", "Curl Curl"}',
  '{"Manly Council heritage restoration"}',
  '{"facebook": "https://facebook.com/shorelineroofing"}',
  'https://g.co/kgs/shorelineroofing',
  '["licenses/roofer_nsw_44444.pdf"]'
),
(
  'a0000001-0000-0000-0000-000000000005',
  'Beachside Painting & Decorating',
  '12345678905',
  'Professional interior and exterior painting for homes and businesses. Dulux accredited, colour consultation included. Specialising in coastal properties and salt-resistant finishes.',
  'https://beachsidepainting.com.au',
  '0416 789 012',
  'jen@beachsidepainting.com.au',
  '{"address": "Unit 5, 18 Wattle St, Freshwater NSW 2096", "lat": -33.7783, "long": 151.2846, "region": "Northern Beaches, NSW"}',
  '{"Painting"}',
  'pro',
  true,
  8,
  5,
  '{"Dulux Accredited Painter", "Master Painters Association"}',
  'Public Liability $10M',
  'Mon-Fri 7am-5pm, Sat 8am-1pm',
  '{"Cash", "Card", "Bank Transfer"}',
  '{"Freshwater", "Manly", "Queenscliff", "Harbord", "Curl Curl", "Dee Why"}',
  '{}',
  '{"instagram": "https://instagram.com/beachsidepainting"}',
  'https://g.co/kgs/beachsidepainting',
  '[]'
),
(
  'a0000001-0000-0000-0000-000000000006',
  'Peninsula Landscaping & Design',
  '12345678906',
  'Creative landscape design and construction. Native gardens, retaining walls, turf, irrigation systems, and outdoor living spaces. Award-winning designs for Northern Beaches homes.',
  'https://peninsulalandscaping.com.au',
  '0418 901 234',
  'chris@peninsulalandscaping.com.au',
  '{"address": "12 Darley Rd, Manly NSW 2095", "lat": -33.7990, "long": 151.2845, "region": "Northern Beaches, NSW"}',
  '{"Landscaping"}',
  'pro',
  true,
  12,
  7,
  '{"Landscape Architect", "Horticulture Certificate III", "WHS White Card"}',
  'Public Liability $10M',
  'Mon-Sat 6:30am-4pm',
  '{"Cash", "Card", "Bank Transfer"}',
  '{"Manly", "Fairlight", "Balgowlah", "Seaforth", "Clontarf", "Mosman"}',
  '{"Manly Beach foreshore project"}',
  '{"instagram": "https://instagram.com/peninsulalandscaping", "facebook": "https://facebook.com/peninsulalandscaping"}',
  'https://g.co/kgs/peninsulalandscaping',
  '[]'
),
(
  'a0000001-0000-0000-0000-000000000008',
  'QLD Electric Solutions',
  '12345678908',
  'Commercial and residential electrical services across Brisbane. Switchboard upgrades, LED lighting, EV charger installations, and solar panel systems.',
  'https://qldelectricsolutions.com.au',
  '0420 123 456',
  'lisa@qldelectricsolutions.com.au',
  '{"address": "Unit 3, 55 Vulture St, West End QLD 4101", "lat": -27.4789, "long": 153.0098, "region": "Brisbane, QLD"}',
  '{"Electrical"}',
  'pro',
  true,
  11,
  9,
  '{"Licensed Electrician QLD", "Solar Accredited", "EV Charger Certified", "QBCC Licensed"}',
  'Public Liability $10M, Professional Indemnity $5M',
  'Mon-Fri 7am-5pm, Sat 8am-12pm',
  '{"Cash", "Card", "Bank Transfer"}',
  '{"West End", "South Brisbane", "Woolloongabba", "Kangaroo Point", "Coorparoo", "Greenslopes"}',
  '{"Brisbane Convention Centre"}',
  '{"facebook": "https://facebook.com/qldelectricsolutions", "linkedin": "https://linkedin.com/company/qldelectricsolutions"}',
  'https://g.co/kgs/qldelectricsolutions',
  '["licenses/electrician_qld_55555.pdf"]'
),
(
  'a0000001-0000-0000-0000-000000000013',
  'Gold Coast Roofing & Guttering',
  '12345678913',
  'Complete roofing solutions from Gold Coast to Brisbane. Roof restorations, gutter replacements, fascia repairs, and storm damage specialists. Insurance work welcome.',
  'https://goldcoastroofing.com.au',
  '0425 678 901',
  'paul@goldcoastroofing.com.au',
  '{"address": "14 Lawrence Dr, Nerang QLD 4211", "lat": -27.9893, "long": 153.3379, "region": "Brisbane, QLD"}',
  '{"Roofing"}',
  'pro',
  true,
  18,
  10,
  '{"QBCC Licensed", "Colorbond Accredited", "Height Safety Certified"}',
  'Public Liability $20M, WorkCover QLD',
  'Mon-Fri 6am-4pm, Emergency weekend service',
  '{"Cash", "Card", "Bank Transfer"}',
  '{"Gold Coast", "Brisbane South", "Logan", "Nerang", "Robina", "Surfers Paradise"}',
  '{"Gold Coast City Council storm recovery 2024"}',
  '{"facebook": "https://facebook.com/goldcoastroofing"}',
  'https://g.co/kgs/goldcoastroofing',
  '["licenses/qbcc_roofing_66666.pdf"]'
),
(
  'a0000001-0000-0000-0000-000000000016',
  'Northern Beaches Reno Co',
  '12345678916',
  'Boutique renovation company specialising in kitchen and bathroom renovations. Complete project management from design to handover. 3D renders included with every quote.',
  'https://northernbeachesreno.com.au',
  '0428 234 567',
  'amy@northernbeachesreno.com.au',
  '{"address": "Suite 2, 663 Pittwater Rd, Dee Why NSW 2099", "lat": -33.7560, "long": 151.2890, "region": "Northern Beaches, NSW"}',
  '{"Carpentry", "Plumbing", "Electrical", "Painting"}',
  'pro',
  true,
  7,
  8,
  '{"Licensed Builder NSW", "HIA Member", "Kitchen & Bathroom Designers Institute"}',
  'Public Liability $10M, Home Warranty Insurance',
  'Mon-Fri 7am-5pm, Sat 9am-1pm (showroom)',
  '{"Cash", "Card", "Bank Transfer", "Finance Available"}',
  '{"Dee Why", "Brookvale", "Narrabeen", "Collaroy", "Cromer", "Beacon Hill"}',
  '{}',
  '{"instagram": "https://instagram.com/northernbeachesreno", "facebook": "https://facebook.com/northernbeachesreno", "pinterest": "https://pinterest.com/northernbeachesreno"}',
  'https://g.co/kgs/northernbeachesreno',
  '["licenses/builder_nsw_77777.pdf"]'
),

-- BASIC TIER (10)
(
  'a0000001-0000-0000-0000-000000000004',
  'Manly Carpentry & Joinery',
  '12345678904',
  'Custom carpentry, timber decks, built-in wardrobes, and joinery. Handcrafted quality with attention to detail.',
  'https://manlycarpentry.com.au',
  '0415 678 901',
  'tom@manlycarpentry.com.au',
  '{"address": "8 Balgowlah Rd, Manly NSW 2095", "lat": -33.7945, "long": 151.2810, "region": "Northern Beaches, NSW"}',
  '{"Carpentry"}',
  'basic',
  true,
  14,
  3,
  '{"Licensed Carpenter NSW", "WHS White Card"}',
  'Public Liability $5M',
  'Mon-Fri 7am-4pm',
  '{"Cash", "Bank Transfer"}',
  '{"Manly", "Fairlight", "Balgowlah"}',
  '{}',
  '{"instagram": "https://instagram.com/manlycarpentry"}',
  NULL,
  '[]'
),
(
  'a0000001-0000-0000-0000-000000000010',
  'Fresh Coat Painting Services',
  '12345678910',
  'Reliable painting services for homes and units across Brisbane. Interior, exterior, and strata painting. Free colour consultation.',
  NULL,
  '0421 234 567',
  'karen@freshcoatpainting.com.au',
  '{"address": "23 Merthyr Rd, New Farm QLD 4005", "lat": -27.4676, "long": 153.0481, "region": "Brisbane, QLD"}',
  '{"Painting"}',
  'basic',
  true,
  5,
  4,
  '{"QBCC Licensed", "Dulux Accredited"}',
  'Public Liability $5M',
  'Mon-Fri 7am-4pm',
  '{"Cash", "Card", "Bank Transfer"}',
  '{"New Farm", "Teneriffe", "Fortitude Valley", "Bowen Hills"}',
  '{}',
  '{"facebook": "https://facebook.com/freshcoatpainting"}',
  NULL,
  '[]'
),
(
  'a0000001-0000-0000-0000-000000000011',
  'Warringah Plumbing Services',
  '12345678911',
  'Local plumber servicing the Warringah area. Tap repairs, toilet installations, hot water systems, and general maintenance. No job too small.',
  NULL,
  '0423 456 789',
  'steve@warringahplumbing.com.au',
  '{"address": "5 Dale St, Brookvale NSW 2100", "lat": -33.7680, "long": 151.2700, "region": "Northern Beaches, NSW"}',
  '{"Plumbing"}',
  'basic',
  true,
  9,
  2,
  '{"Licensed Plumber NSW"}',
  'Public Liability $5M',
  'Mon-Fri 8am-5pm',
  '{"Cash", "Bank Transfer"}',
  '{"Brookvale", "Dee Why", "Allambie Heights", "Manly Vale"}',
  '{}',
  '{}',
  NULL,
  '[]'
),
(
  'a0000001-0000-0000-0000-000000000012',
  'Sunshine Electrics',
  '12345678912',
  'Friendly electrician for all your residential needs. Power points, lighting, ceiling fans, smoke alarms, and safety switches. Brisbane northside.',
  NULL,
  '0424 567 890',
  'rachel@sunshineelectrics.com.au',
  '{"address": "10 Gympie Rd, Chermside QLD 4032", "lat": -27.3861, "long": 153.0322, "region": "Brisbane, QLD"}',
  '{"Electrical"}',
  'basic',
  true,
  6,
  2,
  '{"Licensed Electrician QLD", "QBCC Licensed"}',
  'Public Liability $5M',
  'Mon-Fri 7:30am-4:30pm',
  '{"Cash", "Card", "Bank Transfer"}',
  '{"Chermside", "Kedron", "Stafford", "Aspley", "Geebung"}',
  '{}',
  '{"facebook": "https://facebook.com/sunshineelectrics"}',
  NULL,
  '[]'
),
(
  'a0000001-0000-0000-0000-000000000014',
  'Mona Vale Gardens & Maintenance',
  '12345678914',
  'Garden maintenance, lawn mowing, hedge trimming, and small landscaping projects. Regular maintenance packages available. Servicing the Northern Beaches peninsula.',
  NULL,
  '0426 789 012',
  'emma@monavalegardens.com.au',
  '{"address": "30 Barrenjoey Rd, Mona Vale NSW 2103", "lat": -33.6778, "long": 151.3027, "region": "Northern Beaches, NSW"}',
  '{"Landscaping"}',
  'basic',
  true,
  4,
  3,
  '{"Horticulture Certificate III", "Chainsaw Ticket"}',
  'Public Liability $5M',
  'Mon-Sat 7am-4pm',
  '{"Cash", "Bank Transfer"}',
  '{"Mona Vale", "Newport", "Avalon", "Bayview", "Church Point"}',
  '{}',
  '{"instagram": "https://instagram.com/monavalegardens"}',
  NULL,
  '[]'
),
(
  'a0000001-0000-0000-0000-000000000015',
  'Pittwater Timber & Decking',
  '12345678915',
  'Hardwood and composite decking specialists. Timber pergolas, privacy screens, and outdoor structures. Using sustainably sourced Australian hardwoods.',
  'https://pittwatertimber.com.au',
  '0427 890 123',
  'james@pittwatertimber.com.au',
  '{"address": "19 Warriewood Rd, Warriewood NSW 2102", "lat": -33.6921, "long": 151.2964, "region": "Northern Beaches, NSW"}',
  '{"Carpentry", "Landscaping"}',
  'basic',
  true,
  11,
  4,
  '{"Licensed Carpenter NSW", "Timber Trade Member"}',
  'Public Liability $5M, Home Warranty Insurance',
  'Mon-Fri 6:30am-3:30pm',
  '{"Cash", "Card", "Bank Transfer"}',
  '{"Warriewood", "Mona Vale", "Elanora Heights", "Narrabeen", "North Narrabeen"}',
  '{}',
  '{"instagram": "https://instagram.com/pittwatertimber"}',
  NULL,
  '["licenses/carpenter_nsw_88888.pdf"]'
),
(
  'a0000001-0000-0000-0000-000000000017',
  'Brisbane Landscaping & Turf',
  '12345678917',
  'Complete landscaping services across Brisbane. Turf laying, retaining walls, garden beds, paving, and irrigation. Free measure and quote.',
  NULL,
  '0429 345 678',
  'dan@brisbanelandscaping.com.au',
  '{"address": "45 Montague Rd, West End QLD 4101", "lat": -27.4815, "long": 153.0072, "region": "Brisbane, QLD"}',
  '{"Landscaping"}',
  'basic',
  true,
  8,
  5,
  '{"QBCC Licensed", "Landscape Queensland Member"}',
  'Public Liability $5M',
  'Mon-Sat 6am-3pm',
  '{"Cash", "Card", "Bank Transfer"}',
  '{"West End", "South Brisbane", "Annerley", "Yeronga", "Fairfield"}',
  '{}',
  '{"facebook": "https://facebook.com/brisbanelandscaping"}',
  NULL,
  '[]'
),
(
  'a0000001-0000-0000-0000-000000000018',
  'Avalon Home Services',
  '12345678918',
  'General handyman and maintenance services. Painting touch-ups, minor carpentry, pressure washing, gutter cleaning, and odd jobs around the house.',
  NULL,
  '0430 456 789',
  'nicole@avalonhomeservices.com.au',
  '{"address": "62 Old Barrenjoey Rd, Avalon Beach NSW 2107", "lat": -33.6347, "long": 151.3280, "region": "Northern Beaches, NSW"}',
  '{"Painting", "Carpentry"}',
  'basic',
  true,
  3,
  2,
  '{"WHS White Card"}',
  'Public Liability $5M',
  'Mon-Fri 8am-4pm',
  '{"Cash", "Bank Transfer"}',
  '{"Avalon", "Whale Beach", "Palm Beach", "Bilgola", "Newport"}',
  '{}',
  '{}',
  NULL,
  '[]'
),
(
  'a0000001-0000-0000-0000-000000000019',
  'Dee Why Drain Specialists',
  '12345678919',
  'Blocked drain experts using latest CCTV and jet blasting technology. Pipe relining, stormwater drainage, and sewer repairs. 1-hour response time.',
  NULL,
  '0431 567 890',
  'mark@deewhydrains.com.au',
  '{"address": "28 Fisher Rd, Dee Why NSW 2099", "lat": -33.7530, "long": 151.2860, "region": "Northern Beaches, NSW"}',
  '{"Plumbing"}',
  'basic',
  true,
  7,
  3,
  '{"Licensed Plumber NSW", "CCTV Drain Inspection Certified"}',
  'Public Liability $10M',
  'Mon-Sun 6am-8pm',
  '{"Cash", "Card", "Bank Transfer"}',
  '{"Dee Why", "Curl Curl", "North Curl Curl", "Freshwater", "Brookvale", "Narrabeen"}',
  '{}',
  '{"facebook": "https://facebook.com/deewhydrains"}',
  NULL,
  '["licenses/plumber_nsw_99999.pdf"]'
),
(
  'a0000001-0000-0000-0000-000000000020',
  'Bulimba Electrical & Data',
  '12345678920',
  'Residential and commercial electrical work. Data cabling, NBN installations, home automation, and security systems. Clean, tidy, and on time.',
  NULL,
  '0432 678 901',
  'tina@bulimbaelectrical.com.au',
  '{"address": "77 Oxford St, Bulimba QLD 4171", "lat": -27.4545, "long": 153.0595, "region": "Brisbane, QLD"}',
  '{"Electrical"}',
  'basic',
  true,
  4,
  2,
  '{"Licensed Electrician QLD", "Data Cabling Certified", "QBCC Licensed"}',
  'Public Liability $5M',
  'Mon-Fri 7am-5pm',
  '{"Cash", "Card", "Bank Transfer"}',
  '{"Bulimba", "Hawthorne", "Balmoral", "Morningside", "Norman Park"}',
  '{}',
  '{"instagram": "https://instagram.com/bulimbaelectrical"}',
  NULL,
  '[]'
);

-- Step 4: Re-enable the auto-stub trigger
CREATE OR REPLACE FUNCTION create_company_stub() RETURNS TRIGGER AS $$
BEGIN
  INSERT INTO companies (user_id, name, abn, location, services, verified)
  VALUES (NEW.id, '', '', '{"address": "", "lat": 0, "long": 0, "region": ""}', '{}', FALSE);
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER trig_create_company_after_signup
AFTER INSERT ON auth.users
FOR EACH ROW EXECUTE PROCEDURE create_company_stub();

-- Step 5: Insert 3 ad spots
DELETE FROM ads;
INSERT INTO ads (spot, image_url, link_url, active) VALUES
  (1, 'https://placehold.co/728x90/1a1a1a/ffffff?text=Ad+Spot+1+-+Your+Business+Here', 'https://example.com/advertise', true),
  (2, 'https://placehold.co/728x90/2563eb/ffffff?text=Ad+Spot+2+-+Premium+Placement', 'https://example.com/advertise', true),
  (3, 'https://placehold.co/728x90/16a34a/ffffff?text=Ad+Spot+3+-+Reach+25K+Members', 'https://example.com/advertise', true);

-- Step 6: Insert 5 sample jobs (using existing test user IDs)
DELETE FROM jobs WHERE user_id IN (
  'a0000001-0000-0000-0000-000000000001',
  'a0000001-0000-0000-0000-000000000007',
  'a0000001-0000-0000-0000-000000000009',
  'a0000001-0000-0000-0000-000000000008',
  'a0000001-0000-0000-0000-000000000006'
);
INSERT INTO jobs (user_id, title, description, location) VALUES
(
  'a0000001-0000-0000-0000-000000000001',
  'Experienced Plumber Wanted - Northern Beaches',
  'Oceanside Plumbing is hiring a fully licensed plumber with 3+ years experience. Must have own tools and vehicle. Gas fitting ticket preferred. Competitive hourly rate + vehicle allowance. Full-time permanent position.',
  '{"address": "Manly NSW 2095", "lat": -33.7969, "long": 151.2876, "region": "Northern Beaches, NSW"}'
),
(
  'a0000001-0000-0000-0000-000000000007',
  'Apprentice Plumber - Brisbane Northside',
  'Brisbane Plumbing Pro is looking for a motivated 1st or 2nd year apprentice. Learn from experienced tradies on residential and commercial projects. Great team culture. TAFE support provided.',
  '{"address": "Albion QLD 4010", "lat": -27.4348, "long": 153.0451, "region": "Brisbane, QLD"}'
),
(
  'a0000001-0000-0000-0000-000000000009',
  'Carpenter/Builder - Renovations Team',
  'North Shore Builders needs a skilled carpenter to join our renovations team. Must have NSW builders licence or be working towards it. Kitchen and bathroom reno experience essential. Top rates for the right candidate.',
  '{"address": "Mona Vale NSW 2103", "lat": -33.6776, "long": 151.3036, "region": "Northern Beaches, NSW"}'
),
(
  'a0000001-0000-0000-0000-000000000008',
  'Electrician - Solar & EV Charger Installs',
  'QLD Electric Solutions is expanding our solar and EV division. Looking for a licensed electrician with solar accreditation (or willing to get certified). Brisbane southside focus. Company vehicle provided.',
  '{"address": "West End QLD 4101", "lat": -27.4789, "long": 153.0098, "region": "Brisbane, QLD"}'
),
(
  'a0000001-0000-0000-0000-000000000006',
  'Landscape Labourer - Casual/Part-Time',
  'Peninsula Landscaping needs a reliable labourer for ongoing casual work. Must be physically fit and have own transport. Experience with retaining walls and paving a plus. $35-40/hr.',
  '{"address": "Manly NSW 2095", "lat": -33.7990, "long": 151.2845, "region": "Northern Beaches, NSW"}'
);

-- Step 7: Insert sample leads (search tracking data)
INSERT INTO leads (query, user_location) VALUES
  ('Plumbing in Northern Beaches, NSW', '{"lat": -33.78, "long": 151.29}'),
  ('Electrical in Brisbane, QLD', '{"lat": -27.47, "long": 153.02}'),
  ('Roofing in Northern Beaches, NSW', '{"lat": -33.75, "long": 151.28}'),
  ('Landscaping in Northern Beaches, NSW', '{"lat": -33.80, "long": 151.28}'),
  ('Plumber near Dee Why', '{"lat": -33.75, "long": 151.29}'),
  ('Find electricians in Brisbane', '{"lat": -27.46, "long": 153.04}'),
  ('Carpenter Mona Vale', '{"lat": -33.68, "long": 151.30}'),
  ('Painting in Manly', '{"lat": -33.80, "long": 151.28}'),
  ('Any in Any', NULL),
  ('Roofing in Brisbane, QLD', '{"lat": -27.43, "long": 153.03}');

-- Done! You should now see:
-- 20 companies (4 enterprise, 6 pro, 10 basic) - all verified
-- 3 active ad spots
-- 5 job listings
-- 10 sample leads
